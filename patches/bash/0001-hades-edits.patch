diff -Naur ../bash-v5.2-orig/builtins/psize.c ./builtins/psize.c
--- ../bash-v5.2-orig/builtins/psize.c	2024-12-23 12:02:04.657471036 -0500
+++ ./builtins/psize.c	2024-12-23 11:57:41.302672621 -0500
@@ -21,25 +21,12 @@
 /*  Write output in 128-byte chunks until we get a sigpipe or write gets an
     EPIPE.  Then report how many bytes we wrote.  We assume that this is the
     pipe size. */
-#include <config.h>
-
-#if defined (HAVE_UNISTD_H)
-#  ifdef _MINIX
-#    include <sys/types.h>
-#  endif
-#  include <unistd.h>
-#endif
-
 #include <stdio.h>
-#ifndef _MINIX
-#include "../bashtypes.h"
-#endif
+#include <stdlib.h>
 #include <signal.h>
 #include <errno.h>
 
-#include "../command.h"
-#include "../general.h"
-#include "../sig.h"
+#include <unistd.h>
 
 #ifndef errno
 extern int errno;
@@ -47,7 +34,7 @@
 
 int nw;
 
-sighandler
+void
 sigpipe (sig)
      int sig;
 {
diff -Naur ../bash-v5.2-orig/lib/readline/terminal.c ./lib/readline/terminal.c
--- ../bash-v5.2-orig/lib/readline/terminal.c	2024-12-23 12:02:04.493469288 -0500
+++ ./lib/readline/terminal.c	2024-12-23 12:03:58.938690487 -0500
@@ -103,7 +103,7 @@
 static int tcap_initialized;
 
 #if !defined (__linux__) && !defined (NCURSES_VERSION)
-#  if defined (__EMX__) || defined (NEED_EXTERN_PC)
+#  if defined (__EMX__) || defined(__hades__) || defined (NEED_EXTERN_PC)
 extern 
 #  endif /* __EMX__ || NEED_EXTERN_PC */
 char PC, *BC, *UP;
diff -Naur ../bash-v5.2-orig/lib/termcap/termcap.c ./lib/termcap/termcap.c
--- ../bash-v5.2-orig/lib/termcap/termcap.c	2024-12-23 12:02:04.517469544 -0500
+++ ./lib/termcap/termcap.c	2024-12-23 12:04:23.590953855 -0500
@@ -630,7 +630,7 @@
   bufp->ateof = 0;
   *bufp->ptr = '\0';
 
-  lseek (fd, 0L, 0);
+  lseek (fd, 0L, SEEK_SET);
 
   while (!bufp->ateof)
     {
diff -Naur ../bash-v5.2-orig/mksyntax.c ./mksyntax.c
--- ../bash-v5.2-orig/mksyntax.c	2024-12-23 12:02:04.637470823 -0500
+++ ./mksyntax.c	2024-12-23 12:05:47.015845817 -0500
@@ -20,16 +20,13 @@
    along with Bash.  If not, see <http://www.gnu.org/licenses/>.
 */
 
-#include "config.h"
-
 #include <stdio.h>
+#include <string.h>
 #include "bashansi.h"
 #include "chartypes.h"
 #include <errno.h>
 
-#ifdef HAVE_UNISTD_H
-#  include <unistd.h>
-#endif
+#include <unistd.h>
 
 #include "syntax.h"
 
@@ -40,9 +37,7 @@
 extern int errno;
 #endif
 
-#ifndef HAVE_STRERROR
 extern char *strerror();
-#endif
 
 struct wordflag {
 	int	flag;
@@ -374,42 +369,4 @@
   if (fp != stdout)
     fclose (fp);
   exit (0);
-}
-
-
-#if !defined (HAVE_STRERROR)
-
-#include <bashtypes.h>
-#if defined (HAVE_SYS_PARAM_H)
-#  include <sys/param.h>
-#endif
-
-#if defined (HAVE_UNISTD_H)
-#  include <unistd.h>
-#endif
-
-/* Return a string corresponding to the error number E.  From
-   the ANSI C spec. */
-#if defined (strerror)
-#  undef strerror
-#endif
-
-char *
-strerror (e)
-     int e;
-{
-  static char emsg[40];
-#if defined (HAVE_SYS_ERRLIST)
-  extern int sys_nerr;
-  extern char *sys_errlist[];
-
-  if (e > 0 && e < sys_nerr)
-    return (sys_errlist[e]);
-  else
-#endif /* HAVE_SYS_ERRLIST */
-    {
-      sprintf (emsg, "Unknown system error %d", e);
-      return (&emsg[0]);
-    }
-}
-#endif /* HAVE_STRERROR */
+}
\ No newline at end of file
diff -Naur ../bash-v5.2-orig/shell.c ./shell.c
--- ../bash-v5.2-orig/shell.c	2024-12-23 12:02:04.617470610 -0500
+++ ./shell.c	2024-12-23 12:06:36.944380113 -0500
@@ -1647,7 +1647,7 @@
 #endif
 
   /* Only do this with non-tty file descriptors we can seek on. */
-  if (fd_is_tty == 0 && (lseek (fd, 0L, 1) != -1))
+  if (fd_is_tty == 0 && (lseek (fd, 0L, SEEK_CUR) != -1))
     {
       /* Check to see if the `file' in `bash file' is a binary file
 	 according to the same tests done by execute_simple_command (),
@@ -1684,7 +1684,7 @@
 	  exit (EX_BINARY_FILE);
 	}
       /* Now rewind the file back to the beginning. */
-      lseek (fd, 0L, 0);
+      lseek (fd, 0L, SEEK_SET);
     }
 
   /* Open the script.  But try to move the file descriptor to a randomly
diff -Naur ../bash-v5.2-orig/support/bashversion.c ./support/bashversion.c
--- ../bash-v5.2-orig/support/bashversion.c	2024-12-23 12:02:04.521469586 -0500
+++ ./support/bashversion.c	2024-12-23 12:07:04.312673120 -0500
@@ -18,15 +18,12 @@
    along with Bash.  If not, see <http://www.gnu.org/licenses/>.
 */
 
-#include "config.h"
-
 #include "stdc.h"
 
 #include <stdio.h>
+#include <string.h>
 
-#if defined (HAVE_UNISTD_H)
-#  include <unistd.h>
-#endif
+#include <unistd.h>
 
 #include "bashansi.h"
 
diff -Naur ../bash-v5.2-orig/support/config.sub ./support/config.sub
--- ../bash-v5.2-orig/support/config.sub	2024-12-23 12:02:04.521469586 -0500
+++ ./support/config.sub	2024-12-23 12:07:31.392963132 -0500
@@ -1740,7 +1740,7 @@
 	     | bosx* | nextstep* | cxux* | aout* | elf* | oabi* \
 	     | ptx* | coff* | ecoff* | winnt* | domain* | vsta* \
 	     | udi* | lites* | ieee* | go32* | aux* | hcos* \
-	     | chorusrdb* | cegcc* | glidix* | serenity* \
+	     | chorusrdb* | cegcc* | glidix* | hades* | serenity* \
 	     | cygwin* | msys* | pe* | moss* | proelf* | rtems* \
 	     | midipix* | mingw32* | mingw64* | mint* \
 	     | uxpv* | beos* | mpeix* | udk* | moxiebox* \
diff -Naur ../bash-v5.2-orig/support/man2html.c ./support/man2html.c
--- ../bash-v5.2-orig/support/man2html.c	2024-12-23 12:02:04.521469586 -0500
+++ ./support/man2html.c	2024-12-23 12:08:32.269615373 -0500
@@ -16,7 +16,7 @@
  * ^^^
  * Recognition           Item            Link
  * ----------------------------------------------------------
- * name(*)               Manpage         ../man?/name.*
+ * name(*)               Manpage         ../man?/name.*a
  *     ^
  * name@hostname         Email address   mailto:name@hostname
  *     ^
@@ -62,10 +62,6 @@
  *    that all these features work on all manpages. (I didn't have the
  *    time to look through all the available manpages.)
  */
-#ifdef HAVE_CONFIG_H
-#include <config.h>
-#endif
-
 #define NROFF 0
 
 #include <unistd.h>
@@ -123,8 +119,7 @@
 #define BD_LITERAL  1
 #define BD_INDENT   2
 
-#ifndef HAVE_STRERROR
-static char *
+#if (0)
 strerror(int e)
 {
 	static char emsg[40];
diff -Naur ../bash-v5.2-orig/support/mksignames.c ./support/mksignames.c
--- ../bash-v5.2-orig/support/mksignames.c	2024-12-23 12:02:04.525469629 -0500
+++ ./support/mksignames.c	2024-12-23 12:08:47.185775244 -0500
@@ -18,9 +18,6 @@
    You should have received a copy of the GNU General Public License
    along with Bash.  If not, see <http://www.gnu.org/licenses/>.
 */
-
-#include <config.h>
-
 #include <sys/types.h>
 #include <signal.h>
 
diff -Naur ../bash-v5.2-orig/support/signames.c ./support/signames.c
--- ../bash-v5.2-orig/support/signames.c	2024-12-23 12:02:04.525469629 -0500
+++ ./support/signames.c	2024-12-23 12:08:55.381863100 -0500
@@ -17,9 +17,6 @@
    You should have received a copy of the GNU General Public License
    along with Bash.  If not, see <http://www.gnu.org/licenses/>.
 */
-
-#include <config.h>
-
 #include <stdio.h>
 
 #include <sys/types.h>
